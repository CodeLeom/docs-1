---
id: custom-code-overview
title: Understanding Custom Code in Amplication
sidebar_label: Understanding Custom Code
slug: /custom-code-overview
pagination_next: getting-started/add-custom-code
---

# Understanding Custom Code in Amplication

Amplication allows seamless integration of your custom code with generated code through our [Smart Git Sync](/smart-git-sync) feature.

This lets you add custom business logic while continuing to use Amplication to update your data models, permissions, roles, plugins, and more.

## How Custom Code Integration Works

1. Custom code can be added to _all files_ in your Amplication project.
2. Amplication uses a specific folder structure to manage base and non-base files.
3. The `base` folder contains generated files that will get updates only if there are relevant changes.
4. Non-base files are intended for custom code.
5. If necessary changes to non-base files are required (e.g., removing references to a deleted plugin), Amplication will make these changes automatically.

Amplication always respects your custom code and syncs it with the generated code in both base and non-base files.

## Folder Structure

Each entity has a dedicated folder under the `src` folder:

```
└── src
    ├── customer
    ├── user
    ├── project
    └── task
```

Within each entity folder, files are split into two groups:

1. **Base files**: Located in the `base` folder, these are automatically generated by Amplication.

2. **Non-base files**: These inherit from the base files and are intended for your custom code. They reside directly in the entity folder. Your custom code is always preserved and respected across builds.

```
src
└── Customer
    ├── Base
    │    ├── customer.controller.base.ts
    │    ├── customer.service.base.ts
    │    └── ...
    ├── customer.controller.ts
    ├── customer.service.ts
    └── ...
```

## Smart Git Sync

Amplication uses [Smart Git Sync](/smart-git-sync/) to seamlessly integrate changes, preserving your custom code while updating the generated parts. This feature:

1. Preserves and always respects custom code in base and non-base files.
2. Makes necessary updates to non-base ,files (e.g., removing references to deleted plugins) while maintaining your custom code.

:::note
For a more in-depth explanation, please see the [Smart Git Sync](/smart-git-sync) page.
:::

## Best Practices for Custom Code

When adding custom code to your Amplication service, keep these best practices in mind:

1. Add custom code to non-base files (e.g., `user.service.ts` instead of `user.service.base.ts`).
2. Use types and interfaces generated by Amplication to ensure type safety.
3. Leverage existing services and utilities provided by Amplication.
4. Document your custom code thoroughly.
5. Create a new branch for significant custom code changes.
6. Regularly pull and merge the latest Amplication-generated code from the `amplication` branch into your working branch.

## Handling Conflicts

While Amplication strives to preserve your custom code, conflicts may arise, especially with significant changes to your data model or entity structure. If conflicts occur:

1. Amplication will provide clear indications of the conflicting areas using git diffs in your chosen git provider.
2. You may need to manually resolve these conflicts in the `amplication` branch.
3. After resolving conflicts, merging the updated `amplication` branch into the main branch.

## Considerations

- While all code can be customized, we recommend adding custom code in the non-base files for easier maintenance.
- Major changes to your data model or entity structure may require manual updates to your custom code.

## Next Steps

Now that you understand how custom code works in Amplication, you're ready to start adding your own business logic and customizations. For a step-by-step guide, check out our [How To Add Custom Code To Your Service](/add-custom-code-to-your-service) guide.

Happy coding!
